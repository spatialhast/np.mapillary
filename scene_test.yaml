sources:
    osm:
        type: GeoJSON
        url:  //vector.mapzen.com/osm/all/{z}/{x}/{y}.json?api_key=vector-tiles-PN6Vg8k
cameras:
    perspective:
        type: perspective
        vanishing_point: [0, -500]
lights:
    directional1:
        type: directional
        direction: [.1, .5, -1]
        diffuse: .7
        ambient: .5

layers:
    roads:
        data: { source: osm }
        properties: 
            key_text: ""
            value_text: ""
        draw:
            lines:
                interactive: true
                order: 2
                color: '#bbb'
                width: 1px
        red:
            filter: |
                function () {
                    return (
                        properties.key_text &&
                        properties.value_text &&
                        feature[properties.key_text] && feature[properties.key_text].toLowerCase().indexOf(properties.value_text.toLowerCase()) > -1
                    );
                }
            draw:
                lines:
                    order: 100
                    color: red
                    width: 2px
                text:
                    order: 100
                    text_source: name
                    font:
                        typeface: 8pt Lucida Grande
                        fill: white
                        stroke: { color: black, width: 4 }

    landuse:
        data: { source: osm }
        filter: { kind: nature_reserve }
        draw:
            polygons:
                order: 1
                color: 'green'
            text:
                order: 12
                text_source: name
                filter: { kind: nature_reserve }
                font:
                    typeface: 8pt Helvetica
                    fill: 'red' 
          
          
    places:
        data: { source: osm }
        properties: 
            key_text: ""
            value_text: ""
        draw:
            points:
                order: 11
                color: '#888'
                size: 3px
            text:
                order: 12
                text_source: name
                font:
                    typeface: 8pt Helvetica
                    fill: '#ccc'             
                
                
   